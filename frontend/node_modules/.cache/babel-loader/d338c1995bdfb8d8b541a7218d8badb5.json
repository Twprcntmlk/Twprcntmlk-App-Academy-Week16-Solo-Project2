{"ast":null,"code":"import { csrfFetch } from './csrf';\nconst ADD_BOOKING = \"reservations/ADD\";\nconst STORE_BOOKING = \"reservations/STORE\";\nconst GET_BOOKING = \"reservations/GET\";\nconst DELETE_BOOKING = \"reservations/DELETE\"; /////////////////// ACTION CREATORS ////////////////////\n\nconst addBooking = reservations => ({\n  type: ADD_BOOKING,\n  reservations\n});\n\nconst newBooking = reservations => ({\n  type: STORE_BOOKING,\n  reservations\n});\n\nconst getBooking = reservations => ({\n  type: GET_BOOKING,\n  reservations\n});\n\nconst deleteBooking = bookingId => ({\n  type: DELETE_BOOKING,\n  bookingId\n}); //////////////// THUNK ACTION CREATORS ////////////////////\n\n\nexport const createBooking = reservations => async dispatch => {\n  const response = await csrfFetch(`/api/bookings`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(reservations)\n  });\n\n  if (response.ok) {\n    const reservations = await response.json();\n    dispatch(addBooking(reservations));\n    return reservations;\n  }\n};\nexport const storeNewBooking = reservations => async dispatch => {\n  dispatch(newBooking(reservations));\n  return reservations;\n};\nexport const getBookings = userId => async dispatch => {\n  const response = await csrfFetch(`/api/users/${userId}/bookings`);\n\n  if (response.ok) {\n    const reservations = await response.json();\n    dispatch(getBooking(reservations));\n    return reservations;\n  }\n\n  ;\n};\nexport const cancelBooking = bookingId => async dispatch => {\n  const response = await csrfFetch(`/api/bookings/${bookingId}`, {\n    method: \"DELETE\"\n  });\n\n  if (response.ok) {\n    const bookingId = await response.json();\n    dispatch(deleteBooking(bookingId));\n  }\n\n  ;\n}; /////////////////////// REDUCER //////////////////////////\n\nconst initialState = {};\n\nconst bookingReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_BOOKING:\n      return action.reservations;\n\n    case STORE_BOOKING:\n      return action.reservations;\n\n    case GET_BOOKING:\n      return action.reservations;\n\n    case DELETE_BOOKING:\n      const newState = { ...state\n      };\n      delete newState[action.bookingId];\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default bookingReducer;","map":{"version":3,"sources":["/home/stephenchoung/aafolder/Week16/App-Academy-Week16-Solo-Project-Base/frontend/src/store/reservations.js"],"names":["csrfFetch","ADD_BOOKING","STORE_BOOKING","GET_BOOKING","DELETE_BOOKING","addBooking","reservations","type","newBooking","getBooking","deleteBooking","bookingId","createBooking","dispatch","response","method","headers","body","JSON","stringify","ok","json","storeNewBooking","getBookings","userId","cancelBooking","initialState","bookingReducer","state","action","newState"],"mappings":"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","sourcesContent":["import { csrfFetch } from './csrf';\n\nconst ADD_BOOKING = \"reservations/ADD\";\nconst STORE_BOOKING = \"reservations/STORE\";\nconst GET_BOOKING = \"reservations/GET\";\nconst DELETE_BOOKING = \"reservations/DELETE\";\n\n/////////////////// ACTION CREATORS ////////////////////\n\nconst addBooking = reservations => ({\n    type: ADD_BOOKING,\n    reservations\n});\n\nconst newBooking = reservations => ({\n    type: STORE_BOOKING,\n    reservations\n});\n\nconst getBooking = (reservations) => ({\n    type: GET_BOOKING,\n    reservations\n});\n\nconst deleteBooking = (bookingId) => ({\n    type: DELETE_BOOKING,\n    bookingId\n});\n\n//////////////// THUNK ACTION CREATORS ////////////////////\n\nexport const createBooking = reservations => async (dispatch) => {\n    const response = await csrfFetch(`/api/bookings`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(reservations)\n    });\n\n    if (response.ok) {\n        const reservations = await response.json();\n        dispatch(addBooking(reservations));\n        return reservations;\n    }\n}\n\nexport const storeNewBooking = reservations => async (dispatch) => {\n    dispatch(newBooking(reservations))\n    return reservations;\n}\n\nexport const getBookings = (userId) => async (dispatch) => {\n    const response = await csrfFetch(`/api/users/${userId}/bookings`);\n\n    if (response.ok) {\n        const reservations = await response.json();\n        dispatch(getBooking(reservations));\n        return reservations;\n    };\n}\n\nexport const cancelBooking = (bookingId) => async (dispatch) => {\n    const response = await csrfFetch(`/api/bookings/${bookingId}`, {\n        method: \"DELETE\"\n    });\n\n    if (response.ok) {\n        const bookingId = await response.json();\n        dispatch(deleteBooking(bookingId));\n    };\n}\n\n/////////////////////// REDUCER //////////////////////////\n\nconst initialState = {};\n\nconst bookingReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_BOOKING:\n            return action.reservations;\n        case STORE_BOOKING:\n            return action.reservations;\n        case GET_BOOKING:\n            return action.reservations;\n        case DELETE_BOOKING:\n            const newState = { ...state }\n            delete newState[action.bookingId]\n            return newState;\n        default:\n            return state;\n    }\n};\n\nexport default bookingReducer;\n"]},"metadata":{},"sourceType":"module"}