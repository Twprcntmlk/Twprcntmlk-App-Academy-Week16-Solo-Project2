{"ast":null,"code":"const getOne = listing => ({\n  type: FIND_ONE,\n  listing\n});\n\nexport const getlistings = () => async dispatch => {\n  const res = await csrfFetch('/api/listings');\n\n  if (res.ok) {\n    const listings = await res.json();\n    dispatch(load(listings));\n  }\n};\nexport const findlistings = id => async dispatch => {\n  const res = await csrfFetch(`/api/listings/${id}`);\n\n  if (res.ok) {\n    const listing = await res.json();\n    dispatch(getOne(listing));\n  }\n};\n\nconst listingsReducer = (state = {}, action) => {\n  switch (action.type) {\n    case LOAD:\n      {\n        const alllistings = {};\n        action.listings.forEach(listing => {\n          alllistings[listing.id] = listing;\n        });\n        return { ...alllistings\n        };\n      }\n\n    case FIND_ONE:\n      return { ...action.listing\n      };\n\n    default:\n      return state;\n  }\n\n  ;\n};\n\nexport default listingsReducer;","map":{"version":3,"sources":["/home/stephenchoung/aafolder/Week16/App-Academy-Week16-Solo-Project-Base/frontend/src/store/listings.js"],"names":["getOne","listing","type","FIND_ONE","getlistings","dispatch","res","csrfFetch","ok","listings","json","load","findlistings","id","listingsReducer","state","action","LOAD","alllistings","forEach"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,KAAK;AACvBC,EAAAA,IAAI,EAAEC,QADiB;AAEvBF,EAAAA;AAFuB,CAAL,CAAtB;;AAME,OAAO,MAAMG,WAAW,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACjD,QAAMC,GAAG,GAAG,MAAMC,SAAS,CAAC,eAAD,CAA3B;;AAEA,MAAID,GAAG,CAACE,EAAR,EAAY;AACV,UAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAAvB;AACAL,IAAAA,QAAQ,CAACM,IAAI,CAACF,QAAD,CAAL,CAAR;AACD;AACF,CAPM;AAUP,OAAO,MAAMG,YAAY,GAAIC,EAAD,IAAQ,MAAMR,QAAN,IAAkB;AACpD,QAAMC,GAAG,GAAG,MAAMC,SAAS,CAAE,iBAAgBM,EAAG,EAArB,CAA3B;;AAEA,MAAIP,GAAG,CAACE,EAAR,EAAY;AACV,UAAMP,OAAO,GAAG,MAAMK,GAAG,CAACI,IAAJ,EAAtB;AACAL,IAAAA,QAAQ,CAACL,MAAM,CAACC,OAAD,CAAP,CAAR;AACD;AACF,CAPM;;AAYP,MAAMa,eAAe,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC9C,UAAOA,MAAM,CAACd,IAAd;AACE,SAAKe,IAAL;AACE;AACA,cAAMC,WAAW,GAAG,EAApB;AACAF,QAAAA,MAAM,CAACP,QAAP,CAAgBU,OAAhB,CAAwBlB,OAAO,IAAI;AACjCiB,UAAAA,WAAW,CAACjB,OAAO,CAACY,EAAT,CAAX,GAA0BZ,OAA1B;AACD,SAFD;AAIA,eAAO,EACL,GAAGiB;AADE,SAAP;AAGD;;AACD,SAAKf,QAAL;AACC,aAAO,EAAC,GAAGa,MAAM,CAACf;AAAX,OAAP;;AAED;AACE,aAAOc,KAAP;AAhBJ;;AAiBC;AAEF,CApBD;;AAsBA,eAAeD,eAAf","sourcesContent":["const getOne = listing => ({\n    type: FIND_ONE,\n    listing\n  });\n\n\n  export const getlistings = () => async dispatch => {\n    const res = await csrfFetch('/api/listings');\n\n    if (res.ok) {\n      const listings = await res.json();\n      dispatch(load(listings));\n    }\n  }\n\n\n  export const findlistings = (id) => async dispatch => {\n    const res = await csrfFetch(`/api/listings/${id}`);\n\n    if (res.ok) {\n      const listing = await res.json();\n      dispatch(getOne(listing));\n    }\n  };\n\n\n\n\n  const listingsReducer = (state = {}, action) => {\n    switch(action.type) {\n      case LOAD:\n        {\n        const alllistings = {};\n        action.listings.forEach(listing => {\n          alllistings[listing.id] = listing;\n        });\n\n        return {\n          ...alllistings,\n        }\n      }\n      case FIND_ONE:\n       return {...action.listing}\n\n      default:\n        return state;\n    };\n\n  }\n\n  export default listingsReducer;\n"]},"metadata":{},"sourceType":"module"}