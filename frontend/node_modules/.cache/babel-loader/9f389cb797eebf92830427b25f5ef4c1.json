{"ast":null,"code":"import { csrfFetch } from './csrf';\nconst ADD = 'reservation/ADD';\n\nconst add = reservation => ({\n  type: ADD,\n  reservation\n});\n\nexport const addReservation = newReservation => async dispatch => {\n  const res = await csrfFetch('/api/reservations', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ...newReservation\n    })\n  });\n\n  if (res.ok) {\n    const reservation = await res.json();\n    return dispatch(add(reservation));\n  }\n};\n\nconst reservationReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ADD:\n      {\n        const newState = { ...state,\n          [action.reservation.id]: action.reservation\n        };\n        return newState;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reservationReducer;","map":{"version":3,"sources":["/home/stephenchoung/aafolder/Week16/App-Academy-Week16-Solo-Project-Base/frontend/src/store/reservations.js"],"names":["csrfFetch","ADD","add","reservation","type","addReservation","newReservation","dispatch","res","method","headers","body","JSON","stringify","ok","json","reservationReducer","state","action","newState","id"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AAIA,MAAMC,GAAG,GAAG,iBAAZ;;AAEA,MAAMC,GAAG,GAAGC,WAAW,KAAK;AAC1BC,EAAAA,IAAI,EAAEH,GADoB;AAE1BE,EAAAA;AAF0B,CAAL,CAAvB;;AAKA,OAAO,MAAME,cAAc,GAAIC,cAAD,IAAoB,MAAMC,QAAN,IAAkB;AAElE,QAAMC,GAAG,GAAG,MAAMR,SAAS,CAAC,mBAAD,EAAsB;AAC/CS,IAAAA,MAAM,EAAE,MADuC;AAE/CC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFsC;AAG/CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAC,GAAGP;AAAJ,KAAf;AAHyC,GAAtB,CAA3B;;AAMA,MAAIE,GAAG,CAACM,EAAR,EAAY;AACV,UAAMX,WAAW,GAAG,MAAMK,GAAG,CAACO,IAAJ,EAA1B;AACA,WAAOR,QAAQ,CAACL,GAAG,CAACC,WAAD,CAAJ,CAAf;AACD;AACF,CAZM;;AAeP,MAAMa,kBAAkB,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACjD,UAAQA,MAAM,CAACd,IAAf;AACE,SAAKH,GAAL;AACE;AACE,cAAMkB,QAAQ,GAAG,EACf,GAAGF,KADY;AAEf,WAACC,MAAM,CAACf,WAAP,CAAmBiB,EAApB,GAAyBF,MAAM,CAACf;AAFjB,SAAjB;AAIA,eAAOgB,QAAP;AACD;;AACH;AACE,aAAOF,KAAP;AAVJ;AAYD,CAbD;;AAeA,eAAeD,kBAAf","sourcesContent":["import { csrfFetch } from './csrf';\n\n\n\nconst ADD = 'reservation/ADD';\n\nconst add = reservation => ({\n  type: ADD,\n  reservation\n})\n\nexport const addReservation = (newReservation) => async dispatch => {\n\n  const res = await csrfFetch('/api/reservations', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({...newReservation})\n  });\n\n  if (res.ok) {\n    const reservation = await res.json();\n    return dispatch(add(reservation));\n  }\n};\n\n\nconst reservationReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ADD:\n      {\n        const newState = {\n          ...state,\n          [action.reservation.id]: action.reservation\n        }\n        return newState\n      }\n    default:\n      return state;\n  }\n};\n\nexport default reservationReducer;\n"]},"metadata":{},"sourceType":"module"}